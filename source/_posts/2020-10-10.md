---
title: ä½¿ç”¨Hexoæ­å»ºåšå®¢å¹¶éƒ¨ç½²åˆ°github pages
date: 2020-10-10 00:28:31
tags:
---
# ä½¿ç”¨Hexoæ­å»ºåšå®¢

>ç›¸å…³é“¾æ¥ğŸ”—ï¼š [å®‰è£…Hexo](https://hexo.io/zh-cn/docs/)ã€[å°† Hexo éƒ¨ç½²åˆ° GitHub Pages](https://hexo.io/zh-cn/docs/github-pages)

## å®‰è£… Hexo

è¿™é‡Œåªéœ€è¦ç›´æ¥æ ¹æ®ç¬¬ä¸€ä¸ªé“¾æ¥æä¾›çš„æŒ‡ä»¤å®‰è£…å³å¯ï¼š


    $ npm  install -g hexo-cli


å°†hexoæ·»åŠ åˆ°ç¯å¢ƒå˜é‡


    $ echo 'PATH="$PATH:./node_modules/.bin"' >> ~/.profile

è‡³æ­¤ï¼Œhexoå·²ç»å®‰è£…å®Œæˆï¼Œå¯ä»¥åœ¨cmdä¸­æ‰§è¡Œhexoçš„ç›¸å…³æŒ‡ä»¤

## åˆ›å»º Hexo é¡¹ç›®

å®‰è£…å®Œæˆä¹‹åï¼Œæ‰§è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œå³å¯åˆ›å»ºä¸€ä¸ªhexoé¡¹ç›®


    $ hexo init <porject_name>
    $ cd <project_name>
    $ yarn


## é…ç½® Hexo
hexoé¡¹ç›®çš„é…ç½®ä¿¡æ¯éƒ½åœ¨æ ¹ç›®å½•ä¸­çš„ _config.yml ä¸­ï¼Œå¯ä»¥åœ¨æ­¤æ›´æ”¹é…ç½®å‚æ•°

å…·ä½“çš„é…ç½®å‚æ•°å¯ä»¥åœ¨æ­¤æŸ¥çœ‹ï¼š[Hexoé…ç½®](https://hexo.io/zh-cn/docs/configuration)

åœ¨æ­¤ï¼Œæˆ‘ä¸»è¦è®¾ç½®äº†ä¸€ä¸‹ç½‘ç«™çš„æ ‡é¢˜ä»¥ã€ä½œè€…åã€æ–‡ç« çš„ [æ°¸ä¹…é“¾æ¥](https://hexo.io/zh-cn/docs/permalinks) æ ¼å¼åŠç½‘ç«™é“¾æ¥ã€‚

## ä¹¦å†™æ–‡ç« 

æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ¥åˆ›å»ºä¸€ç¯‡æ–°çš„æ–‡ç« 


    $ hexo new [layout] <title>


* layout ä¸ºæ–‡ç« çš„å¸ƒå±€ï¼ŒHexoæœ‰ä¸‰ç§é»˜è®¤å¸ƒå±€ï¼š postã€pageå’Œdraftï¼Œåˆ›å»ºæ–‡ç« æ—¶ï¼Œä¼šæ ¹æ®å¸ƒå±€çš„ä¸åŒè€Œå°†æ–‡ä»¶æ”¾å…¥ä¸åŒçš„æ–‡ä»¶å¤¹ã€‚layout å¯ä»¥ä¸å¡«ï¼Œé»˜è®¤ä¸ºpostï¼Œåœ¨åˆ›å»ºæ—¶å­˜å…¥source/_post ç›®å½•ã€‚

|	å¸ƒå±€	|	è·¯å¾„	|
|    :----: 	| 	:----: 	|
|	post	|	source/_posts |
|	page	|	source/ |
|	draft	|	source/_drafts |

* title å³ä¸ºæ–‡ç« çš„æ ‡é¢˜ï¼Œä¸ºå¿…é¡»é¡¹

åˆ›å»ºæ–‡ç« åï¼Œä¼šåœ¨ç›¸åº”çš„æ–‡ä»¶å¤¹ä¸­æ–°å»ºå¯¹åº”çš„mdæ–‡ä»¶ï¼Œæ–‡ä»¶ä¸­ä¼šæœ‰é»˜è®¤çš„å†…å®¹æ¥ä¿å­˜æ–‡ç« çš„ç›¸å…³ä¿¡æ¯, åˆ†åˆ«ä¸º titleã€dateã€åŠtags.

* titleï¼šå³ä¸ºæ–‡ç« çš„æ ‡é¢˜ï¼Œé»˜è®¤ä¸ºåˆ›å»ºæ–‡ç« æ—¶æ‰€è®¾å®šçš„æ ‡é¢˜
* dateï¼šåˆ›å»ºæ–‡ç« çš„æ—¥æœŸ
* tagsï¼šæ–‡ç« çš„æ ‡ç­¾

å¯ä»¥é€šè¿‡ä¿®æ”¹ä»¥ä¸Šå†…å®¹æ¥ä¿®æ”¹æ–‡ç« çš„ä¿¡æ¯

ç„¶åï¼Œå°±å¯ä»¥åœ¨ä¸‹é¢ç¼–è¾‘è‡ªå·±çš„æ–‡ç« å†…å®¹è¿›è¡Œåˆ›ä½œå•¦ ğŸ‰

## ä¸€äº›Hexoçš„æŒ‡ä»¤

> è¿™é‡Œåªåˆ—å‡ºä¸€äº›æˆ‘è®¤ä¸ºå¿…é¡»è¦çŸ¥é“çš„ä¸€äº›æŒ‡ä»¤ï¼Œæ›´å¤šæŒ‡ä»¤å¯ä»¥åœ¨æ­¤æŸ¥çœ‹ï¼š [HexoæŒ‡ä»¤](https://hexo.io/zh-cn/docs/commands)

### init

	$ hexo init [folder]

æ–°å»ºä¸€ä¸ªHexoé¡¹ç›®ï¼Œå³ä¸€ä¸ªåšå®¢ç½‘ç«™ï¼Œfolderä¸ºæ–‡ä»¶å¤¹çš„åç§°ï¼Œå¦‚æœæ²¡æœ‰è®¾ç½®ï¼ŒHexoä¼šé»˜è®¤åœ¨å½“å‰çš„æ–‡ä»¶å¤¹å»ºç«‹é¡¹ç›®ã€‚

### new

	$ hexo new [layout] <title>

æ–°å»ºä¸€ç¯‡æ–‡ç« ï¼Œå¦‚æœæ–‡ç« çš„æ ‡é¢˜ä¸­æœ‰ç©ºæ ¼ï¼Œåˆ™éœ€è¦ç”¨å¼•å·æ‹¬èµ·æ¥

	$ hexo new "post title with whitespace"

### generate

	$ hexo generate
or

	$ hexo g

æ­¤æŒ‡ä»¤å¯ä»¥ç”Ÿæˆé™æ€æ–‡ä»¶ï¼Œä¿å­˜åœ¨`public/`ç›®å½•ä¸­

### server

	$ hexo server

or

	$ hexo s

å¯ç”¨æœ¬åœ°æœåŠ¡ï¼Œæ‰§è¡Œåå¯ä»¥åœ¨ `http://localhost:4000` ä¸­è®¿é—®è¯¥é¡¹ç›®çš„ç½‘é¡µ

## è®¾ç½®ä¸»é¢˜

# å°†é¡¹ç›®éƒ¨ç½²åˆ°Github Pages

> å‚è€ƒé“¾æ¥ï¼š[å°† Hexo éƒ¨ç½²åˆ° GitHub Pages](https://hexo.io/zh-cn/docs/github-pages)

è¿™é‡Œä¸»è¦å°±æ˜¯æ ¹æ®ä¸Šé¢é“¾æ¥ä¸­çš„æ•™ç¨‹ä¸€æ­¥ä¸€æ­¥è¿›è¡Œï¼Œä¸ºäº†æ›´åŠ æ–¹ä¾¿ï¼Œä¼šä½¿ç”¨åˆ° [Travis CI](https://travis-ci.com/)ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨githubè´¦å·æ³¨å†Œ

`éƒ¨ç½²` çš„å¤§è‡´æ­¥éª¤ä¸ºï¼š

1. åœ¨ [github](https://github.com/) ä¸­æ–°å»ºä¸€ä¸ªrepositoryå¹¶å°†é¡¹ç›®æ¨é€åˆ°è¯¥repositoryä¸­ï¼›
2. åœ¨ [è¿™é‡Œ ](https://github.com/marketplace/travis-ci) å°† Travis CI æ·»åŠ åˆ° githubè´¦æˆ·ä¸­ï¼›
3. å‰å¾€ github ä¸­çš„ [Applications settings](https://github.com/settings/installations) ç»™äºˆTravis CI è®¿é—®ä½ çš„repository çš„æƒé™ï¼›
4. åœ¨ github ä¸­  [æ–°å»º Personal Access Token](https://github.com/settings/tokens)ï¼Œ åªå‹¾é€‰ `repo` æƒé™å¹¶ç”ŸæˆTokenï¼Œç”Ÿæˆåå¤åˆ¶è¯¥Tokenï¼›
5. åœ¨ [è¿™é‡Œ](https://travis-ci.com/) æ‰¾åˆ°å¹¶å‰å¾€ ç›¸åº”çš„ repository çš„ `è®¾ç½®é¡µé¢`ï¼Œåœ¨**Environment Variables**ä¸‹æ–°å»ºä¸€ä¸ªç¯å¢ƒå˜é‡ï¼Œ**Name**è®¾ç½®ä¸º`GH_TOKEN`, **Value**ä¸ºä¹‹å‰å¤åˆ¶çš„Tokenï¼Œç„¶åç‚¹å‡»**Add**ä¿å­˜ï¼›
>`è®¾ç½®(settings)`åœ¨æ‰“å¼€çš„repositoryç®¡ç†é¡µé¢å³è¾¹çš„ More options ä¸­, ç‚¹å‡»å³å¯è¿›å…¥`è®¾ç½®é¡µé¢` 
6.  åœ¨hexoé¡¹ç›®çš„æ ¹ç›®å½•ä¸­æ–°å»ºä¸€ä¸ª `.travis.yml` æ–‡ä»¶ï¼š

```  yaml
  sudo: false
  language: node_js
  node_js:
    - 10 # use nodejs v10 LTS
  cache: npm
  branches:
  only:
    - master # build master branch only
  script:
   - hexo generate # generate static files
  deploy:
   provider: pages
   skip-cleanup: true
   github-token: $GH_TOKEN
   keep-history: true
  on:
    branch: master
  local-dir: public
```

